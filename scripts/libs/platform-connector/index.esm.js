import _defineProperty from"@babel/runtime/helpers/defineProperty";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _asyncToGenerator from"@babel/runtime/helpers/asyncToGenerator";import _regeneratorRuntime from"@babel/runtime/regenerator";import clone from"lodash/clone";import merge from"lodash/merge";import _typeof from"@babel/runtime/helpers/typeof";import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import urlTemplate from"url-template";import{backOff}from"exponential-backoff";import _inherits from"@babel/runtime/helpers/inherits";import _possibleConstructorReturn from"@babel/runtime/helpers/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/getPrototypeOf";import _wrapNativeSuper from"@babel/runtime/helpers/wrapNativeSuper";import{createIntlCache,createIntl}from"react-intl";var DISCOVERY={root:"/discovery"},LINK_NS={page:"http://ns.adobe.com/adobecloud/rel/page",next:"next",resolveId:"http://ns.adobe.com/adobecloud/rel/resolve/id",resolvePath:"http://ns.adobe.com/adobecloud/rel/resolve/path",ops:"http://ns.adobe.com/adobecloud/rel/ops",metadata:{repo:"http://ns.adobe.com/adobecloud/rel/metadata/repository",app:"http://ns.adobe.com/adobecloud/rel/metadata/application",embedded:"http://ns.adobe.com/adobecloud/rel/metadata/embedded",asset:"http://ns.adobe.com/adobecloud/rel/metadata/asset"},query:"http://ns.adobe.com/adobecloud/rel/query",rendition:"http://ns.adobe.com/adobecloud/rel/rendition",path:"http://ns.adobe.com/adobecloud/rel/path",acPolicy:"http://ns.adobe.com/adobecloud/rel/ac/policy",id:"http://ns.adobe.com/adobecloud/rel/id",acCheck:"http://ns.adobe.com/adobecloud/rel/ac/check",repository:"http://ns.adobe.com/adobecloud/rel/repository",primary:"http://ns.adobe.com/adobecloud/rel/primary",acEffective:"http://ns.adobe.com/adobecloud/rel/ac/effective",create:"http://ns.adobe.com/adobecloud/rel/create",directory:"http://ns.adobe.com/adobecloud/rel/directory",discard:"http://ns.adobe.com/adobecloud/rel/discard",restore:"http://ns.adobe.com/adobecloud/rel/restore",download:"http://ns.adobe.com/adobecloud/rel/download",version:"version-history",blockUploadInit:"http://ns.adobe.com/adobecloud/rel/block/init",blockTransfer:"http://ns.adobe.com/adobecloud/rel/block/transfer",blockFinalize:"http://ns.adobe.com/adobecloud/rel/block/finalize",blockDownload:"http://ns.adobe.com/adobecloud/rel/download",searchableFields:"http://ns.adobe.com/adobeaemcloud/rel/aem/metadata/searchable-fields",collections:"http://ns.adobe.com/adobeaemcloud/rel/aem/collections-v0"};function getMimeTypeFromExtension(e){var t="";switch(e=e.toLowerCase()){case"jpeg":t="image/jpeg";break;case"jpg":t="image/jpg";break;case"png":t="image/png";break;case"tiff":t="image/tiff";break;case"bmp":t="image/bmp";break;case"psd":t="image/psd";break;case"gif":t="image/gif";break;case"pdf":t="application/pdf";break;case"eps":t="image/x-eps";break;case"ai":t="application/illustrator";break;case"txt":t="text/plain";break;case"rtf":t="text/rtf";break;case"ppt":case"pptx":t="application/mspowerpoint";break;case"doc":case"docx":t="application/msword";break;case"xls":case"xlsx":t="application/msexcel";break;case"indd":t="application/x-indesign";break;case"raw":t="image/raw";break;case"avi":t="video/msvideo";break;case"flv":t="video/x-flv";break;case"mp4":t="video/mp4";break;case"mpeg":t="video/mpeg";break;case"wmv":t="video/x-ms-wmv";break;case"psb":t="application/x-photoshop";break;case"f4v":t="video/x-f4v";break;case"asf":t="application/vnd.ms-asf";break;case"3gp":t="video/3gpp";break;case"swf":t="application/x-shockwave-flash";break;default:t="application/octet-stream"}return t}var LogLevel,PlatformConnectorConstants={UPLOAD_STATE:{PENDING:"PENDING",ACTIVE:"ACTIVE",PAUSING:"PAUSING",PAUSED:"PAUSED",CANCELING:"CANCELING",CANCELED:"CANCELED",RESUMING:"RESUMING",FINISHED:"FINISHED"},UPLOAD_BLOCKS:{MIN_FILESIZE_FOR_BLOCKUPLOAD:52428800,UPLOAD_BLOCKSIZE:5242880,MIN_BLOCKSIZE_FOR_UPLOAD:5242880,UPLOAD_BLOCK_RETRY_DEFAULT:3},DIRECTORY_TYPE:"application/vnd.adobecloud.directory+json",RESOURCE_TYPE:"application/vnd.adobecloud.resource+json",COLLECTION_TYPE:"application/vnd.adobeaemcloud.collection+json",REPO_PATH:"repo:path"},BlockTransfers=function(){function e(){_classCallCheck(this,e),this._blockUploads=void 0,this.xhrPuts=void 0,this._blockUploads=[],this.xhrPuts=[]}var t,n,r,o,a;return _createClass(e,[{key:"blockUploads",get:function(){return this._blockUploads}},{key:"addBlockUpload",value:function(e){var t=this._getBlockUploadIndex(e.id);return t>=0&&this._removeBlockUpload(t),this._blockUploads.push(e),this._blockUploads.length-1}},{key:"addXhrPut",value:function(e){this.xhrPuts.push(e)}},{key:"removeXhrPut",value:function(e){var t=this.xhrPuts.findIndex((function(t){return t.path===e}));this.xhrPuts.splice(t,1)}},{key:"getBlockUpload",value:function(e){var t;return(t="number"==typeof e?e:this._getBlockUploadIndex(e))>=0?this._blockUploads[t]:null}},{key:"blockUploadState",value:function(e,t){var n;return(null===(n=this.getBlockUpload(e))||void 0===n?void 0:n.state)===t}},{key:"pauseBlockUpload",value:(a=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.blockUploadState(t,"ACTIVE")){e.next=4;break}return e.next=3,this._fastPauseUpload(this.getBlockUpload(t));case 3:return e.abrupt("return",!0);case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"resumeBlockUpload",value:(o=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.blockUploadState(t,"PAUSED")||!this._validBlockUploadInstance(n)){e.next=10;break}return this.addBlockUpload(n),e.next=4,this._resumeUpload(n);case 4:if(r=e.sent,n.state!==PlatformConnectorConstants.UPLOAD_STATE.FINISHED){e.next=8;break}return this._removeBlockUploadById(n.id),e.abrupt("return",r);case 8:e.next=11;break;case 10:throw new Error("Job not found or job not paused");case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"cancelBlockUpload",value:(r=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getBlockUpload(t))||n.state!==PlatformConnectorConstants.UPLOAD_STATE.ACTIVE){e.next=9;break}return e.next=4,this._cancelUpload(n);case 4:return this._removeBlockUpload(this._getBlockUploadIndex(t)),n.options.onAbortUpload&&n.options.onAbortUpload({uploadAsset:n.id,discardAssetUrl:n.discardAsset}),e.abrupt("return",!0);case 9:if(!n||n.state!==PlatformConnectorConstants.UPLOAD_STATE.PAUSED){e.next=14;break}return n.options.onAbortUpload&&n.options.onAbortUpload({uploadAsset:n.id,discardAssetUrl:n.discardAsset}),n.options.onCancel&&n.options.onCancel({uploadInstance:n}),this._removeBlockUpload(this._getBlockUploadIndex(t)),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_fastPauseUpload",value:function(e){e.state=PlatformConnectorConstants.UPLOAD_STATE.PAUSING;var t=this._getBlockUploadUrl(e),n=this.xhrPuts.findIndex((function(e){return e.path===t.href})),r=this.xhrPuts[n].xhr;4!==r.readyState&&(r.abort(),this.xhrPuts=this.xhrPuts.filter((function(e){return e!==t.href})))}},{key:"_resumeUpload",value:(n=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state=PlatformConnectorConstants.UPLOAD_STATE.RESUMING,e.abrupt("return",PlatformConnector.execBlockUpload(t));case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"_getBlockUploadIndex",value:function(e){var t=this.blockUploads.find((function(t){return t.id===e}));return t?this.blockUploads.indexOf(t):-1}},{key:"_getBlockUploadUrl",value:function(e){var t=e.completedBlocks;return e.links[PlatformConnector._linkNS.blockTransfer][t]||null}},{key:"_cancelUpload",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state=PlatformConnectorConstants.UPLOAD_STATE.CANCELING,n=this._getBlockUploadUrl(t),r=this.xhrPuts.findIndex((function(e){return e.path===n.href})),4===(o=this.xhrPuts[r].xhr).readyState){e.next=8;break}return o.abort(),this.xhrPuts=this.xhrPuts.filter((function(e){return e!==n.href})),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_validBlockUploadInstance",value:function(e){for(var t=[{name:"id",type:"string"},{name:"etag",type:"string"},{name:"state",type:"string"},{name:"completedBlocks",type:"number"},{name:"fileName",type:"string"},{name:"blockSize",type:"number"},{name:"id",type:"ILinks"},{name:"options",type:"UploadOptions"}],n=t.length,r=0;r<n;r++)if(!e||!(t[r].name in e)||!_typeof(e[t[r].name]===e[t[r].type]))return!1;return!0}},{key:"_removeBlockUploadById",value:function(e){var t=this.blockUploads.find((function(t){return t.id===e})),n=t?this.blockUploads.indexOf(t):-1;return n>=0&&(this._blockUploads.splice(n,1),!0)}},{key:"_removeBlockUpload",value:function(e){return e>=0&&(this._blockUploads.splice(e,1),!0)}}]),e}(),blockTransfers=new BlockTransfers;function ownKeys$3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$3(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.NONE=-1]="NONE",e[e.SEVERE=0]="SEVERE",e[e.WARNING=1]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.CONFIG=4]="CONFIG",e[e.FINE=5]="FINE",e[e.FINER=6]="FINER",e[e.FINEST=7]="FINEST"}(LogLevel||(LogLevel={}));var DEFAULT_LOGGER_NO_OP={log:function(){}},Logger={isLogger:function(e){return"object"===_typeof(e)&&"log"in e},_logger:DEFAULT_LOGGER_NO_OP,setLogger:function(e){if(e){if(!Logger.isLogger(e))throw new Error("Invalid logger object");Logger._logger=e}else Logger._logger=DEFAULT_LOGGER_NO_OP},log:function(e,t){Logger._logger.log(e,t)}},ConsoleLogger=function(){function e(t){_classCallCheck(this,e),this.traceLevel=void 0,this.traceLevel=t}return _createClass(e,[{key:"log",value:function(e,t){var n=LogLevel[e],r="".concat(new Date," ").substring(0,33),o="".concat(r," - ").concat(n,":").concat(t.message);t=_objectSpread$3(_objectSpread$3({},t),{},{message:o}),this.traceLevel>=e&&(e===LogLevel.SEVERE?console.error(t.message):e===LogLevel.WARNING?console.warn(t.message):e===LogLevel.INFO?console.info(t.message):e===LogLevel.DEBUG?console.debug(t.message):console.log(t.message))}}]),e}();function _createForOfIteratorHelper$1(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray$1(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray$1(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$1(e,t):void 0}}function _arrayLikeToArray$1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var utils={getAuthHeader:function(e){return e.accessToken&&e.accessToken.startsWith("Basic")?{authorization:"".concat(e.accessToken),"x-api-key":e.apiKey}:{authorization:"Bearer ".concat(e.accessToken),"x-api-key":e.apiKey}},getHeader:function(e,t){return merge(utils.getAuthHeader(t),e)},extendTemplate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=RegExp("{([^}]+)}","g"),o={},a="";if(n){var s;do{if(s=r.exec(e)){for(var l=s[0],i=s[1].replace(/[\?]/g,"").replace(/;/g,"").replace(/\+/g,"").split(","),c=0;c<i.length;c++)o[i[c]]=!0;0===l.indexOf("{?")&&(a=l)}}while(s);var u=[],p=!1;if(Object.keys(t).forEach((function(e){o[e]||(new RegExp("[?&]".concat(e,"=([^};&]*)")).test(n)?p=!0:u.push(e))})),u.length){var d=u.join(",");if(0==a.length)n+=p?"{&".concat(d,"}"):"{?".concat(d,"}");else{var f=a.replace("}",",".concat(d,"}"));n=n.replace(a,f)}}}return n},fillTemplate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(n){var r,o=RegExp("{[^}]+}","gm");do{if(r=o.exec(e)){var a=r[0].replace(/\?}/g,"}").replace(/\?,/g,",");n=n.replace(r[0],a)}}while(r);n=this.extendTemplate(n,t)}return urlTemplate.parse(n).expand(t)},extractLinksFromHeaders:function(e){var t,n={},r=_createForOfIteratorHelper$1(e.get("link").split(", <"));try{for(r.s();!(t=r.n()).done;){var o,a=t.value.split(/>;|";/g),s="",l="",i="",c=_createForOfIteratorHelper$1(a);try{for(c.s();!(o=c.n()).done;){var u=o.value;u.indexOf("rel=")>=0?s=u.replace("rel=","").replace(/"/g,"").trim():u.indexOf("templated=")>=0?i=u.replace("templated=","").replace(/"/g,"").trim():(u.startsWith("<")||u.startsWith("https://")||u.startsWith("/"))&&(l=u.replace(/[<>]/g,"").trim())}}catch(e){c.e(e)}finally{c.f()}n[s]={href:l},i&&(n[s].templated="true"===i)}}catch(e){r.e(e)}finally{r.f()}return n},findLink:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e[t]&&e[t].href)return e[t].href.startsWith("http://")||e[t].href.startsWith("https://")?e[t].href:n+(e[t].href.startsWith("/")?"":"/")+e[t].href;if(Array.isArray(e[t])){var r=e[t].filter((function(e){return"id"===e.mode})).concat(e[t]),o=_slicedToArray(r,1)[0];if(o&&o.href)return o.href.startsWith("http://")||o.href.startsWith("https://")?o.href:n+(o.href.startsWith("/")?"":"/")+o.href}throw new Error("".concat(t," link not available on this asset"))},extractFileName:function(e){return e.substring(e.lastIndexOf("/")+1)},formatDirectoryPath:function(e){return e.lastIndexOf("/")!==e.length-1?"".concat(e,"/"):e},getErrorFromResponse:function(e){var t={status:e.status,statusText:e.statusText};return e.headers&&e.headers.get("x-request-id")&&(t["x-request-id"]=e.headers.get("x-request-id")),t},waitFor:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),returnXHRResponse:function(e,t,n,r,o){var a;if(4===e.readyState){var s={ok:e.status<=399,json:function(){return JSON.parse(e.responseText)},headers:new Headers,redirected:!1,status:e.status,statusText:e.statusText,trailer:null,type:null,url:e.responseURL,clone:null,body:null,bodyUsed:!0,arrayBuffer:null,blob:null,text:function(){return Promise.resolve(e.responseText)},formData:null},l=null!==(a=e.getResponseHeader("x-request-id"))&&void 0!==a?a:"NO ID";return s.ok?("PUT"===t&&blockTransfers.removeXhrPut(o),Logger.log(LogLevel.FINE,{message:" < pc ".concat(t," ").concat(s.status," [").concat(l,"] ").concat(o),requestUrl:s.url,requestMethod:t,xRequestId:l,filledTemplate:o}),n(s)):(Logger.log(LogLevel.WARNING,{message:" < pc ".concat(t," ").concat(s.status," [").concat(l,"] ").concat(o),requestUrl:s.url,requestMethod:t,responseStatus:s.status,xRequestId:l,filledTemplate:o}),r(s))}}};function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var WrappedFetchError=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,n),(r=t.call(this,e||"Request failed with status code ".concat(o))).forceSkip=void 0,r.isAxiosError=void 0,r.response=void 0,r.message=e||"Request failed with status code ".concat(o),r.isAxiosError=!0,o&&(r.response={status:o,headers:a}),r}return _createClass(n,null,[{key:"fromFetchError",value:function(e){return new n(e)}}]),n}(_wrapNativeSuper(Error));function ownKeys$2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function isRetryError(e){if(e.isAxiosError){var t=e.response,n=(void 0===t?{}:t).status;return n>=500&&n<600||!n}return!1}function getHttpErrorInfo(e){var t="Internal Server Error",n={status:500,statusText:t};if(e){var r=e.isAxiosError,o=e.message,a=void 0===o?t:o,s=e.response,l=void 0===s?{}:s;if(r){var i=l.status,c=void 0===i?500:i,u=l.headers,p=void 0===u?{}:u;n.status=c,n.statusText=a;var d=p["x-request-id"];d&&(n["x-request-id"]=d)}}return n}function doFetch(){return _doFetch.apply(this,arguments)}function _doFetch(){return(_doFetch=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"==typeof t?{url:t,method:"GET"}:_objectSpread$2({},t),e.prev=1,o=n.url,delete n.url,e.next=6,fetch(o,n);case 6:r=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),WrappedFetchError.fromFetchError(e.t0);case 12:if(r.ok){e.next=14;break}throw new WrappedFetchError(void 0,r.status,Object.fromEntries(r.headers.entries()));case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function submitRequestAndRetry(){return _submitRequestAndRetry.apply(this,arguments)}function _submitRequestAndRetry(){return(_submitRequestAndRetry=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,doFetch(t);case 2:if(r=e.sent,o=r.status,!n||!n(o)){e.next=8;break}throw(a=new WrappedFetchError("retrying request per client",o)).forceSkip=!0,a;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function handleRetry(e,t){var n=e&&e.forceSkip;return t&&!n?t(getHttpErrorInfo(e).status):!(!n&&!isRetryError(e))}function submitHttpRequest(){return _submitHttpRequest.apply(this,arguments)}function _submitHttpRequest(){return _submitHttpRequest=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o,a,s,l,i,c=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=c.length>1&&void 0!==c[1]?c[1]:{}).retryCount,o=void 0===r?3:r,a=n.retryDelay,s=void 0===a?1e3:a,l=n.retryFunction,i=void 0!==l&&l,e.abrupt("return",backOff((function(){return submitRequestAndRetry(t,i)}),{numOfAttempts:o,retry:function(e){return handleRetry(e,i)},startingDelay:s}));case 3:case"end":return e.stop()}}),e)}))),_submitHttpRequest.apply(this,arguments)}var HttpClient=function(){function e(){_classCallCheck(this,e)}var t;return _createClass(e,[{key:"submitRequest",value:(t=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,submitHttpRequest(t,n);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),o=getHttpErrorInfo(e.t0),new Error(JSON.stringify(o));case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return t.apply(this,arguments)})}]),e}();function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var actions={doFetchWithOptions:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,o,a,s,l,i,c,u,p,d,f,b,m=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>1?m[1]:void 0,r=m.length>2&&void 0!==m[2]?m[2]:{},o=m.length>4?m[4]:void 0,a=m.length>5&&void 0!==m[5]?m[5]:1,s=m.length>6&&void 0!==m[6]?m[6]:function(){},l=_objectSpread$1(_objectSpread$1({method:t=m.length>0&&void 0!==m[0]?m[0]:"GET",headers:m.length>3&&void 0!==m[3]?m[3]:{}},m.length>7&&void 0!==m[7]?m[7]:{}),{},{body:o,url:utils.fillTemplate(n,r)}),o&&(l.body=JSON.stringify(o)),Logger.log(LogLevel.INFO,{message:" > pc ".concat(t," ").concat(l.url),requestUrl:l.url,requestMethod:t}),i=new HttpClient,e.prev=12,e.next=15,i.submitRequest(l,{retryCount:a,retryFunction:s});case 15:c=e.sent,e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(12),Logger.log(LogLevel.SEVERE,{message:" < pc failed to send ".concat(l.url),requestUrl:l.url,requestMethod:t}),e.t0;case 22:return p=(u=c).status,d=u.headers,f=d.has("x-request-id")?d.get("x-request-id"):"NO ID",b=p<400?LogLevel.INFO:LogLevel.SEVERE,Logger.log(b,{message:" < pc ".concat(t," ").concat(p," [").concat(f,"] ").concat(l.url),requestUrl:l.url,requestMethod:t,responseStatus:p,xRequestId:f}),e.abrupt("return",c);case 27:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(){return e.apply(this,arguments)}}(),doFetch:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,o,a,s,l,i,c,u,p=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:"GET",n=p.length>1?p[1]:void 0,r=p.length>2?p[2]:void 0,o=p.length>3&&void 0!==p[3]?p[3]:{},a=p.length>4&&void 0!==p[4]?p[4]:{},s=p.length>5?p[5]:void 0,l=p.length>6&&void 0!==p[6]?p[6]:"default",i=p.length>7&&void 0!==p[7]?p[7]:1,c=p.length>8&&void 0!==p[8]?p[8]:function(){},u=utils.getHeader(a,r),e.abrupt("return",actions.doFetchWithOptions(t,n,o,u,s,i,c,{cache:l}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doGet:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,i,c=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},o=c.length>3&&void 0!==c[3]?c[3]:{},a=c.length>4&&void 0!==c[4]?c[4]:"default",s=c.length>5&&void 0!==c[5]?c[5]:1,l=c.length>6&&void 0!==c[6]?c[6]:function(){},e.next=7,actions.doFetch("GET",t,n,r,o,void 0,a,s,l);case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doHead:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},o=s.length>3&&void 0!==s[3]?s[3]:{},e.next=4,actions.doFetch("HEAD",t,n,r,o);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doPost:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,i,c,u=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4?u[4]:void 0,s=u.length>5&&void 0!==u[5]?u[5]:"default",l=u.length>6&&void 0!==u[6]?u[6]:0,i=u.length>7&&void 0!==u[7]?u[7]:void 0,e.next=8,actions.doFetch("POST",t,n,r,o,a,s,l,i);case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doPoll:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,i=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=i.length>2&&void 0!==i[2]?i[2]:{},a=o=3e3;case 3:return e.next=5,actions.doGet(t,n,{},r,"default",0);case 5:return(s=e.sent).headers.has("retry-after")&&(a=1e3*(a=s.headers.get("retry-after"))>o?o:1e3*a),l=function(e){return new Promise((function(t){setTimeout(t,e)}))},e.next=10,l(a);case 10:if(s&&202===s.status){e.next=3;break}case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doPostAsync:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,i=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},o=i.length>3&&void 0!==i[3]?i[3]:{},a=i.length>4?i[4]:void 0,e.next=5,actions.doPost(t,n,r,o,a);case 5:if(!((s=e.sent)&&202===s.status&&s.headers&&s.headers.has("location"))){e.next=9;break}return l=s.headers.get("location"),e.abrupt("return",actions.doPoll(l,n,o));case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doDelete:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=l.length>3&&void 0!==l[3]?l[3]:{},a=l.length>4?l[4]:void 0,e.next=5,actions.doFetch("DELETE",t,n,r,o,a);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doPut:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=l.length>3&&void 0!==l[3]?l[3]:{},a=l.length>4?l[4]:void 0,e.next=5,actions.doFetch("PUT",t,n,r,o,a);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doPatch:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:{},o=l.length>3&&void 0!==l[3]?l[3]:{},a=l.length>4?l[4]:void 0,e.next=5,actions.doFetch("PATCH",t,n,r,o,a);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doXhrPost:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,i,c,u=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:null,s=u.length>5?u[5]:void 0,l=utils.getHeader(o,n),i=utils.fillTemplate(t,r),e.next=8,new Promise((function(e,n){var r,o=new XMLHttpRequest;for(var c in o.open("POST",i,!0),l)l.hasOwnProperty(c)&&"content-length"!==c.toLowerCase()&&o.setRequestHeader(c,l[c]);null!==(r=global)&&void 0!==r&&r.isNodeEnv||o.upload.addEventListener("progress",(function(e){return s.onProgress&&s.onProgress(e)})),o.onerror=function(e){n(e)},o.onreadystatechange=function(){return utils.returnXHRResponse(o,"POST",e,n,i)},Logger.log(LogLevel.INFO,{message:" > pc POST ".concat(t),requestUrl:t,requestMethod:"POST",filledTemplate:i}),o.send(a||null)}));case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doXhrPut:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,i,c,u=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:null,l={},(s=u.length>5?u[5]:void 0).update&&(l=utils.getHeader(o,n)),i=utils.fillTemplate(t,r),e.next=9,new Promise((function(e,n){var r,o=new XMLHttpRequest;for(var c in l)l.hasOwnProperty(c)&&"content-length"!==c.toLowerCase()&&o.setRequestHeader(c,l[c]);null!==(r=global)&&void 0!==r&&r.isNodeEnv||o.upload.addEventListener("progress",(function(e){return s.onProgress&&s.onProgress(e)})),o.onerror=function(e){n(e)},o.onreadystatechange=function(){return utils.returnXHRResponse(o,"PUT",e,n,i)},Logger.log(LogLevel.INFO,{message:" > pc PUT ".concat(t),requestUrl:t,requestMethod:"PUT",filledTemplate:i}),o.open("PUT",i,!0),o.send(a||null),blockTransfers.addXhrPut({path:i,xhr:o})}));case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Operation,REPO_REPOSITORY_ID="repo:repositoryId",REPO_ASSET_ID="repo:assetId";!function(e){e.copy="copy",e.move="move",e.discard="discard",e.delete="delete",e.restore="restore"}(Operation||(Operation={}));var intl,localeCache,PlatformConnector={init:function(e){var t=e.accessToken,n=e.apiKey,r=e.platformUrl,o=e.discoveryRoot,a=e.linkNS,s=void 0===a?{}:a,l=e.customHeader,i=void 0===l?{}:l,c=e.logger;return PlatformConnector._ims.accessToken=t,PlatformConnector._ims.apiKey=n,PlatformConnector._ims.platformUrl=r,PlatformConnector._discoveryRoot=o||DISCOVERY.root,PlatformConnector._linkNS=merge(LINK_NS,s),PlatformConnector._customHeader=i,Logger.setLogger(c),clone(PlatformConnector)},_ims:{accessToken:void 0,apiKey:void 0,platformUrl:void 0},_discoveryRoot:DISCOVERY.root,_linkNS:LINK_NS,_baseURL:"",_customHeader:{},_formatIfMatch:function(e){return e["dc:format"]&&e["dc:format"].indexOf("directory")<0?{"if-match":e["repo:etag"]||"*"}:{}},getDiscovery:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,o,a,s,l,i,c,u,p,d,f,b,m,R,C,g,h,_,P,v,U,y,k,w,x,T;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=PlatformConnector._ims.platformUrl+PlatformConnector._discoveryRoot,e.next=3,actions.doGet(a,PlatformConnector._ims,{},{});case 3:return s=e.sent,e.next=6,s.json();case 6:if(l=e.sent,!(c=null===(t=l)||void 0===t||null===(n=t.children)||void 0===n||null===(r=n.find((function(e){return"Assets.json"===e["repo:name"]})))||void 0===r||null===(o=r._links[LINK_NS.page])||void 0===o?void 0:o.href)){e.next=38;break}return e.next=11,actions.doGet(c,PlatformConnector._ims,{limit:10},{});case 11:if(b=e.sent,m={_links:{next:{href:""}},children:void 0},200!==(null===(u=b)||void 0===u?void 0:u.status)){e.next=18;break}return e.next=16,b.json();case 16:m=e.sent,l=m;case 18:R=null===(p=m)||void 0===p||null===(d=p._links)||void 0===d||null===(f=d.next)||void 0===f?void 0:f.href;case 19:if(!R){e.next=34;break}return e.next=22,actions.doGet(R,PlatformConnector._ims,{},{});case 22:if(b=e.sent,200!==(null===(C=b)||void 0===C?void 0:C.status)){e.next=29;break}return e.next=26,b.json();case 26:m=e.sent,e.next=30;break;case 29:R=null;case 30:l.children=l.children.concat(m.children),R=null===(g=m)||void 0===g||null===(h=g._links)||void 0===h||null===(_=h.next)||void 0===_?void 0:_.href,e.next=19;break;case 34:delete l._page,delete l._links.next,e.next=47;break;case 38:if(!(w=null===(P=l)||void 0===P||null===(v=P.children)||void 0===v||null===(U=v.find((function(e){return"Index.json"===e["repo:name"]})))||void 0===U||null===(y=U._links[LINK_NS.primary])||void 0===y?void 0:y.href)){e.next=43;break}return e.next=42,actions.doGet(w,PlatformConnector._ims,{},{});case 42:i=e.sent;case 43:if(200!==(null===(k=i)||void 0===k?void 0:k.status)){e.next=47;break}return e.next=46,i.json();case 46:l=e.sent;case 47:return l._links&&(x=utils.findLink(l._links,PlatformConnector._linkNS.resolvePath))&&(T=new URL(x),PlatformConnector._baseURL=T.origin),e.abrupt("return",l);case 49:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getFederatedDiscovery:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.children.find((function(e){return e._embedded[PlatformConnector._linkNS.metadata.repo]["repo:repositoryId"]===n}))){e.next=3;break}return e.abrupt("return",t);case 3:if((o=r._embedded["Repositories.json"]._links[PlatformConnector._linkNS.primary])&&o.href){e.next=6;break}return e.abrupt("return",t);case 6:return e.next=8,actions.doGet(o.href,PlatformConnector._ims,{},{});case 8:if(a=e.sent){e.next=11;break}return e.abrupt("return",t);case 11:return e.next=13,a.json();case 13:if(s=e.sent){e.next=16;break}return e.abrupt("return",t);case 16:return s._links=s.children[0]._embedded._links,e.abrupt("return",s);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getResource:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:"default",o=utils.findLink(t,PlatformConnector._linkNS.primary,PlatformConnector._baseURL),e.abrupt("return",actions.doGet(o,PlatformConnector._ims,n,PlatformConnector._customHeader,r));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getResourceByPath:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:"default",o=utils.findLink(t,PlatformConnector._linkNS.resolvePath,PlatformConnector._baseURL),e.next=4,actions.doHead(o,PlatformConnector._ims,n,PlatformConnector._customHeader);case 4:return a=e.sent,s=utils.extractLinksFromHeaders(a.headers),e.abrupt("return",PlatformConnector.getResource(s,n,r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getResourceById:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:"default",o=utils.findLink(t,PlatformConnector._linkNS.resolveId,PlatformConnector._baseURL),e.next=4,actions.doHead(o,PlatformConnector._ims,n,PlatformConnector._customHeader);case 4:return a=e.sent,s=utils.extractLinksFromHeaders(a.headers),e.abrupt("return",PlatformConnector.getResource(s,n,r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getLinksByPath:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.resolvePath,PlatformConnector._baseURL),e.prev=1,e.next=4,actions.doGet(r,PlatformConnector._ims,n,PlatformConnector._customHeader);case 4:return o=e.sent,e.next=7,o.json();case 7:return a=e.sent,e.abrupt("return",a._links);case 11:return e.prev=11,e.t0=e.catch(1),e.next=15,actions.doHead(r,PlatformConnector._ims,n,PlatformConnector._customHeader);case 15:return s=e.sent,e.abrupt("return",utils.extractLinksFromHeaders(s.headers));case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),getLinksById:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.resolveId,PlatformConnector._baseURL),e.next=3,actions.doHead(r,PlatformConnector._ims,n,PlatformConnector._customHeader);case 3:return o=e.sent,e.abrupt("return",utils.extractLinksFromHeaders(o.headers));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getHeadByPath:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.resolvePath,PlatformConnector._baseURL),e.next=3,actions.doHead(r,PlatformConnector._ims,n,PlatformConnector._customHeader);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),checkResourceExistsByPath:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.resolvePath,PlatformConnector._baseURL),e.next=3,actions.doHead(r,PlatformConnector._ims,n,PlatformConnector._customHeader);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),checkResourceExistsById:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.resolveId,PlatformConnector._baseURL),e.next=3,actions.doHead(r,PlatformConnector._ims,n,PlatformConnector._customHeader);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),applyLinkTemplate:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:"GET",o=l.length>3?l[3]:void 0,a=l.length>4?l[4]:void 0,e.t0=r,e.next="POST"===e.t0?6:"PUT"===e.t0?8:"PATCH"===e.t0?10:"DELETE"===e.t0?12:"HEAD"===e.t0?14:16;break;case 6:return s=actions.doPost,e.abrupt("break",18);case 8:return s=actions.doPut,e.abrupt("break",18);case 10:return s=actions.doPatch,e.abrupt("break",18);case 12:return s=actions.doDelete,e.abrupt("break",18);case 14:return s=actions.doHead,e.abrupt("break",18);case 16:return s=actions.doGet,e.abrupt("break",18);case 18:return e.abrupt("return",s(t,PlatformConnector._ims,n,o,a));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPage:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r=!(l.length>2&&void 0!==l[2])||l[2],o=l.length>3&&void 0!==l[3]?l[3]:"default",a=utils.findLink(t,r?PlatformConnector._linkNS.page:PlatformConnector._linkNS.next,PlatformConnector._baseURL),e.next=6,actions.doGet(a,PlatformConnector._ims,n,PlatformConnector._customHeader,o);case 6:return s=e.sent,e.abrupt("return",s.json());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPermission:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=utils.findLink(t,PlatformConnector._linkNS.acEffective,PlatformConnector._baseURL),e.next=3,actions.doGet(n,PlatformConnector._ims,{},PlatformConnector._customHeader);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getRendition:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,i,c,u,p,d,f=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:"default",o=f.length>3&&void 0!==f[3]&&f[3],a=PlatformConnector._linkNS.rendition,s=utils.findLink(t,a,PlatformConnector._baseURL),!o){e.next=10;break}return e.next=7,actions.doFetchWithOptions("GET",s,n);case 7:l=e.sent,e.next=13;break;case 10:return e.next=12,actions.doGet(s,PlatformConnector._ims,n,PlatformConnector._customHeader,r);case 12:l=e.sent;case 13:return c=Array.isArray(t[a])?t[a].filter((function(e){return"id"===e.mode})).concat(t[a]):[t[a]],u=_slicedToArray(c,1),(p=u[0])&&p.type&&(i={type:p.type}),e.next=17,l.arrayBuffer();case 17:return d=e.sent,e.abrupt("return",URL.createObjectURL(new Blob([new Uint8Array(d)],i)));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getRepoMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o,a=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"default",r=utils.findLink(t,PlatformConnector._linkNS.metadata.repo,PlatformConnector._baseURL),e.next=4,actions.doGet(r,PlatformConnector._ims,{},PlatformConnector._customHeader,n);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getEmbeddedMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"default",r=utils.findLink(t,PlatformConnector._linkNS.metadata.embedded,PlatformConnector._baseURL),e.abrupt("return",actions.doGet(r,PlatformConnector._ims,{},_objectSpread({Accept:"application/json"},PlatformConnector._customHeader),n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getApplicationMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"default",r=utils.findLink(t,PlatformConnector._linkNS.metadata.app,PlatformConnector._baseURL),e.abrupt("return",actions.doGet(r,PlatformConnector._ims,{},PlatformConnector._customHeader,n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAssetMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"default",r=utils.findLink(t,PlatformConnector._linkNS.metadata.asset,PlatformConnector._baseURL),e.abrupt("return",actions.doGet(r,PlatformConnector._ims,{},PlatformConnector._customHeader,n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setApplicationMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PlatformConnector.setApplicationMetadataBulkOperation(t,[{name:n,value:r}],o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setApplicationMetadataBulkOperation:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=utils.findLink(t,PlatformConnector._linkNS.metadata.app,PlatformConnector._baseURL),a=n.map((function(e){return{op:"add",path:"/".concat(e.name),value:e.value}})),e.abrupt("return",actions.doPatch(o,PlatformConnector._ims,void 0,_objectSpread(_objectSpread({"Content-Type":"application/json-patch+json"},r&&{"If-Match":r}),PlatformConnector._customHeader),a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setAssetMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PlatformConnector.setAssetMetadataBulkOperation(t,[{name:n,value:r}],o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setAssetMetadataBulkOperation:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=utils.findLink(t,PlatformConnector._linkNS.metadata.asset,PlatformConnector._baseURL),a=n.map((function(e){return{op:"add",path:"/".concat(e.name),value:e.value}})),e.abrupt("return",actions.doPatch(o,PlatformConnector._ims,void 0,_objectSpread(_objectSpread({"Content-Type":"application/json-patch+json"},r&&{"If-Match":r}),PlatformConnector._customHeader),a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addToCollection:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",updateCollection("add",t,n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),removeFromCollection:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",updateCollection("remove",t,n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),query:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o,a,s=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2&&void 0!==s[2]?s[2]:"default",o=utils.findLink(t,PlatformConnector._linkNS.query,PlatformConnector._baseURL),e.next=5,actions.doGet(o,PlatformConnector._ims,n,PlatformConnector._customHeader,r);case 5:return a=e.sent,e.abrupt("return",a.json());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o,a=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"default",r=[PlatformConnector._linkNS.metadata.app,PlatformConnector._linkNS.metadata.embedded,PlatformConnector._linkNS.metadata.repo],o=r.filter((function(e){return t[e]})).map((function(e){return{resource:{reltype:e}}})),e.abrupt("return",PlatformConnector.query(t,{embed:JSON.stringify(o)},n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getMetadata:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o,a=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"default",r=[PlatformConnector._linkNS.metadata.asset,PlatformConnector._linkNS.metadata.repo],o=r.filter((function(e){return t[e]})).map((function(e){return{resource:{reltype:e}}})),e.abrupt("return",PlatformConnector.query(t,{embed:JSON.stringify(o)},n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getVersions:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=utils.findLink(t,PlatformConnector._linkNS.version,PlatformConnector._baseURL),e.next=3,actions.doGet(n,PlatformConnector._ims,{},PlatformConnector._customHeader);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSearchableFields:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=utils.findLink(t,PlatformConnector._linkNS.searchableFields,PlatformConnector._baseURL),e.next=3,actions.doGet(n,PlatformConnector._ims,{},PlatformConnector._customHeader);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),copyResources:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){var a,s,l,i,c,u,p;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=utils.findLink(t,PlatformConnector._linkNS.ops,PlatformConnector._baseURL),s=[],l=_createForOfIteratorHelper(n);try{for(l.s();!(i=l.n()).done;)c=i.value,u=utils.extractFileName(c[PlatformConnectorConstants.REPO_PATH]),s.push({op:Operation.copy,source:_objectSpread(_defineProperty({"repo:repositoryId":o},PlatformConnectorConstants.REPO_PATH,c[PlatformConnectorConstants.REPO_PATH]),PlatformConnector._formatIfMatch(c)),target:_defineProperty({"repo:repositoryId":o},PlatformConnectorConstants.REPO_PATH,utils.formatDirectoryPath(r[PlatformConnectorConstants.REPO_PATH])+u)})}catch(e){l.e(e)}finally{l.f()}return p=1===s.length?s[0]:s,e.abrupt("return",actions.doPostAsync(a,PlatformConnector._ims,{},_objectSpread({"Content-Type":"application/vnd.adobe.asset-operation+json"},PlatformConnector._customHeader),p));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),renameSingleResource:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){var a,s,l,i,c,u;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=utils.findLink(t,PlatformConnector._linkNS.ops,PlatformConnector._baseURL),s=n[PlatformConnectorConstants.REPO_PATH],l=s.substring(0,s.lastIndexOf("/")),i=utils.formatDirectoryPath(l)+r,c={op:Operation.move,source:_objectSpread(_defineProperty({"repo:repositoryId":o},PlatformConnectorConstants.REPO_PATH,n[PlatformConnectorConstants.REPO_PATH]),PlatformConnector._formatIfMatch(n)),target:_defineProperty({"repo:repositoryId":o},PlatformConnectorConstants.REPO_PATH,i)},e.next=7,actions.doPostAsync(a,PlatformConnector._ims,{},{"Content-Type":"application/vnd.adobe.asset-operation+json"},c);case 7:return u=e.sent,e.abrupt("return",u.json());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),moveResources:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){var a,s,l,i,c,u,p;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=utils.findLink(t,PlatformConnector._linkNS.ops,PlatformConnector._baseURL),s=[],l=_createForOfIteratorHelper(n);try{for(l.s();!(i=l.n()).done;)c=i.value,u=utils.extractFileName(c[PlatformConnectorConstants.REPO_PATH]),s.push({op:Operation.move,source:_objectSpread(_defineProperty({"repo:repositoryId":o},PlatformConnectorConstants.REPO_PATH,c[PlatformConnectorConstants.REPO_PATH]),PlatformConnector._formatIfMatch(c)),target:_defineProperty({"repo:repositoryId":o},PlatformConnectorConstants.REPO_PATH,utils.formatDirectoryPath(r[PlatformConnectorConstants.REPO_PATH])+u)})}catch(e){l.e(e)}finally{l.f()}return p=1===s.length?s[0]:s,e.abrupt("return",actions.doPostAsync(a,PlatformConnector._ims,{},_objectSpread({"Content-Type":"application/vnd.adobe.asset-operation+json"},PlatformConnector._customHeader),p));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pollForProcessed:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",actions.doPoll(t,PlatformConnector._ims,PlatformConnector._ims));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),move:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",operation(Operation.move,t,{sources:n,target:r},o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),copy:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",operation(Operation.copy,t,{sources:n,target:r},o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),discard:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]&&a[3],e.abrupt("return",operation(Operation.discard,t,{targets:n},r,{forceOperation:o}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),discardSingleResource:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.discard,PlatformConnector._baseURL),e.abrupt("return",actions.doPost(r,PlatformConnector._ims,{repositoryId:n},PlatformConnector._customHeader));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),discardResources:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]&&a[3],e.abrupt("return",ops(Operation.discard,t,n,r,{forceOperation:o}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteResources:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a,s=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!(s.length>3&&void 0!==s[3])||s[3],a=!(s.length>4&&void 0!==s[4])||s[4],e.abrupt("return",ops("delete",t,n,r,{recursive:o,forceOperation:a}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),restoreResources:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ops("restore",t,n,r));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),packageResources:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a,s,l,i=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>3&&void 0!==i[3]?i[3]:void 0,a=utils.findLink(t,PlatformConnector._linkNS.ops,PlatformConnector._baseURL),r.forEach((function(e){e["repo:repositoryId"]=n})),s=_objectSpread({op:"package",source:r},o&&{package_name:o}),e.next=6,actions.doPostAsync(a,PlatformConnector._ims,{repositoryId:n},_objectSpread({"Content-Type":"application/vnd.adobe.asset-operation+json"},PlatformConnector._customHeader),s);case 6:return l=e.sent,e.abrupt("return",l.json());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createFolder:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.create,PlatformConnector._baseURL),e.abrupt("return",actions.doPost(r,PlatformConnector._ims,{path:n,intermediates:!0,respondWith:'{"reltype":"'.concat(PlatformConnector._linkNS.metadata.repo,'"}')},_objectSpread({"Content-Type":PlatformConnectorConstants.DIRECTORY_TYPE},PlatformConnector._customHeader)));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createResource:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a,s,l=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>3&&void 0!==l[3]?l[3]:{},a=utils.findLink(t,PlatformConnector._linkNS.create,PlatformConnector._baseURL),s=!0===(null==o?void 0:o.intermediates)||void 0===(null==o?void 0:o.intermediates),e.abrupt("return",actions.doPost(a,PlatformConnector._ims,{path:n,intermediates:s,respondWith:(null==o?void 0:o.respondWith)||void 0},_objectSpread({"Content-Type":(null==o?void 0:o.contentType)||PlatformConnectorConstants.RESOURCE_TYPE},PlatformConnector._customHeader),r));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateResource:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,PlatformConnector._linkNS.primary,PlatformConnector._baseURL),e.abrupt("return",actions.doPut(r,PlatformConnector._ims,{},_objectSpread({"Content-Type":PlatformConnectorConstants.RESOURCE_TYPE},PlatformConnector._customHeader),n));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),uploadFile:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a,s,l,i,c,u;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},a=r.update?"":utils.findLink(t,PlatformConnector._linkNS.create,PlatformConnector._baseURL),(s=n.type)&&""!==s||(s=getMimeTypeFromExtension(n.name.split(".").pop())),l=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,r){var o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.slice(t,r),e.abrupt("return",new Promise((function(e){var t=new FileReader;t.onloadend=function(t){var n;e(null===(n=t.target)||void 0===n?void 0:n.result)},t.readAsArrayBuffer(o)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=_objectSpread(_objectSpread({},r),{},{contentLength:n.size,onSliceBuffer:l,type:s}),e.next=8,PlatformConnector._blockUploadInit(a,n,i);case 8:return c=e.sent,e.next=11,PlatformConnector.execBlockUpload(c);case 11:if(u=e.sent,c.state===PlatformConnectorConstants.UPLOAD_STATE.FINISHED){e.next=14;break}return e.abrupt("return",u);case 14:return blockTransfers._removeBlockUploadById(c.id),o.path=c.fileName,r.verbose&&(o.createResponse=c.createResponse,o.initResponse=c.initResponse,o.transferDocument=c.transferDocument,o.blockTransferResponses=null==u?void 0:u.blockTransferResponses,o.finalizeResponse=null==u?void 0:u.finalizeResponse),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_prepareBlockUploadPayloadOnOptions:function(e){var t={"repo:size":e.contentLength,"repo:blocksize":e.blockSize||PlatformConnectorConstants.UPLOAD_BLOCKS.UPLOAD_BLOCKSIZE,"dc:format":e.type},n=e.blockUploadPayloadForRelType?e.blockUploadPayloadForRelType:{"repo:resource":{"repo:reltype":PlatformConnector._linkNS.primary}};return Object.assign(t,n)},_blockUploadInit:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a,s,l,i,c,u,p,d,f,b,m;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=LINK_NS.blockUploadInit,i=r.relativeTargetDirectory,c=i?"".concat(i,"/").concat(n.name):n.name,r.update){e.next=11;break}return e.next=6,actions.doPost(t,PlatformConnector._ims,{path:c,intermediates:!0},_objectSpread({"Content-Type":r.type},PlatformConnector._customHeader));case 6:a=e.sent,s=utils.extractLinksFromHeaders(a.headers),l=a.headers.get("etag"),e.next=13;break;case 11:s=r.updateOptions.links,l=r.updateOptions.ifMatch;case 13:return e.prev=13,e.next=16,actions.doPost(utils.findLink(s,o,PlatformConnector._baseURL),PlatformConnector._ims,{},_objectSpread({"Content-Type":"application/vnd.adobecloud.bulk-transfer+json"},PlatformConnector._customHeader),Object.assign(PlatformConnector._prepareBlockUploadPayloadOnOptions(r),{"repo:md5":null},{"repo:expires":null},{"repo:if-match":null===l?null:"".concat(l)},{"repo:if-none-match":null},{_links:null}),"default",3,(function(e){return 404===e}));case 16:if(200!==(u=e.sent).status){e.next=28;break}return e.next=20,u.json();case 20:p=e.sent,d=p["repo:blocksize"];try{f=utils.findLink(s,PlatformConnector._linkNS.discard,PlatformConnector._baseURL)}catch(e){}return b={id:"".concat(r.targetDirectory,"/").concat(n.name),etag:l,state:"PENDING",completedBlocks:0,bytesRemaining:n.size,fileName:n.name,blockSize:d,links:p._links,options:r,discardAsset:f,createResponse:a,initResponse:u,transferDocument:p},blockTransfers.addBlockUpload(b),e.abrupt("return",b);case 28:throw new Error("blockUploadInit status ".concat(u.status));case 29:e.next=35;break;case 31:if(e.prev=31,e.t0=e.catch(13),r.onAbortUpload){try{m=utils.findLink(s,PlatformConnector._linkNS.discard,PlatformConnector._baseURL)}catch(e){}r.onAbortUpload({uploadAsset:"".concat(r.targetDirectory,"/").concat(n.name),discardAssetUrl:m})}throw e.t0;case 35:case"end":return e.stop()}}),e,null,[[13,31]])})));return function(){return e.apply(this,arguments)}}(),execBlockUpload:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o,a,s,l,i,c;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={blockTransferResponses:new Array,finalizeResponse:void 0},t.state===PlatformConnectorConstants.UPLOAD_STATE.RESUMING&&t.options.onResume&&t.options.onResume(),t.state=PlatformConnectorConstants.UPLOAD_STATE.ACTIVE,o=t.links[PlatformConnector._linkNS.blockTransfer].map((function(e){return e.href})),a=t.links[PlatformConnector._linkNS.blockFinalize].href,a=null===(n=a)||void 0===n?void 0:n.replace("{&repoMetaPatch*}",""),s={},"ifMatch"in t.options&&(s["If-Match"]=t.options.ifMatch),l=_regeneratorRuntime.mark((function(){var e,n,a,s,c,u,p,d,f,b,m;return _regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(t.bytesRemaining<=0)){l.next=3;break}return t.completedBlocks=o.length,l.abrupt("return","break");case 3:return e=t.options.contentLength,n=t.blockSize,c=(a=i*n)+(s=a+n>e?e-a+1:n),l.next=10,t.options.onSliceBuffer(a,c);case 10:u=l.sent,p=function(e){console.debug("Upload progress - loaded: event.loaded"),t.options.onProgress&&t.options.onProgress({loaded:e.loaded+a,total:t.options.contentLength})},d=0,f=!1,b=t.options.blockRetries||PlatformConnectorConstants.UPLOAD_BLOCKS.UPLOAD_BLOCK_RETRY_DEFAULT;case 15:if(f||t.state!==PlatformConnectorConstants.UPLOAD_STATE.ACTIVE||!(d++<=b)){l.next=38;break}return l.prev=16,l.next=19,actions.doXhrPut(o[i],PlatformConnector._ims,{},{},u,{onProgress:p});case 19:if(m=l.sent){l.next=22;break}throw new Error("actions.doXhrPut failed to return response");case 22:if(!m.ok||200!==m.status&&201!==m.status){l.next=26;break}f=!0,l.next=28;break;case 26:if(!(d>=b)){l.next=28;break}throw new Error("BlockTransferLink".concat(i," failed  due to CORS or other network issues"));case 28:r.blockTransferResponses.push(m),l.next=36;break;case 31:if(l.prev=31,l.t0=l.catch(16),!(d>=b)){l.next=36;break}throw t.options.onAbortUpload&&t.options.onAbortUpload({uploadAsset:t.id,discardAssetUrl:t.discardAsset}),new Error("BlockTransferLink".concat(i," failed. ").concat(l.t0));case 36:l.next=15;break;case 38:f&&(t.bytesRemaining-=s,t.completedBlocks++);case 39:case"end":return l.stop()}}),l,null,[[16,31]])})),i=t.completedBlocks;case 10:if(!(i<o.length&&t.state===PlatformConnectorConstants.UPLOAD_STATE.ACTIVE)){e.next=18;break}return e.delegateYield(l(),"t0",12);case 12:if("break"!==e.t0){e.next=15;break}return e.abrupt("break",18);case 15:i++,e.next=10;break;case 18:if(t.state===PlatformConnectorConstants.UPLOAD_STATE.ACTIVE){e.next=29;break}if(t.state!==PlatformConnectorConstants.UPLOAD_STATE.PAUSING||!t.options.onPause){e.next=24;break}t.state=PlatformConnectorConstants.UPLOAD_STATE.PAUSED,t.options.onPause({uploadInstance:t}),e.next=28;break;case 24:if(t.state!==PlatformConnectorConstants.UPLOAD_STATE.CANCELING||!t.options.onCancel){e.next=28;break}return t.state=PlatformConnectorConstants.UPLOAD_STATE.CANCELED,t.options.onCancel({uploadInstance:t}),e.abrupt("return");case 28:return e.abrupt("return");case 29:return e.prev=29,e.next=32,actions.doPost(a,PlatformConnector._ims,{},_objectSpread({"Content-Type":"application/vnd.adobecloud.bulk-transfer+json","Access-Control-Expose-Headers":"*"},PlatformConnector._customHeader),Object.assign(PlatformConnector._prepareBlockUploadPayloadOnOptions(t.options),{"repo:md5":null},{"repo:expires":null},{"repo:if-match":null===t.etag?null:"".concat(t.etag)},{"repo:if-none-match":null},{_links:t.links}),"default",3,(function(e){return 404===e}));case 32:c=e.sent,r.finalizeResponse=c,e.next=40;break;case 36:throw e.prev=36,e.t1=e.catch(29),t.options.onAbortUpload&&t.options.onAbortUpload({uploadAsset:t.id,discardAssetUrl:t.discardAsset}),new Error("BlockFinalized failed.");case 40:return t.state=PlatformConnectorConstants.UPLOAD_STATE.FINISHED,e.abrupt("return",_objectSpread({path:t.fileName},r));case 42:case"end":return e.stop()}}),e,null,[[29,36]])})));return function(){return e.apply(this,arguments)}}(),downloadSingleResource:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=utils.findLink(t,PlatformConnector._linkNS.download,PlatformConnector._baseURL),e.next=3,actions.doGet(n,PlatformConnector._ims,{},PlatformConnector._customHeader);case 3:if(200!==(r=e.sent).status){e.next=9;break}return e.next=7,r.json();case 7:return o=e.sent.href,e.abrupt("return",o);case 9:throw new Error("Get block transfer URL for download failed. It may be cause by a network error.");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getACLPolicy:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=utils.findLink(t,LINK_NS.acPolicy),e.abrupt("return",actions.doGet(n,PlatformConnector._ims,{},PlatformConnector._customHeader));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateACLPolicy:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a,s,l,i,c=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>3&&void 0!==c[3]?c[3]:"merge",a=utils.findLink(t,LINK_NS.acPolicy),s=n.map((function(e){return{"repo:principal":{"xdm:provider":{"@id":"https://ims-na1.adobelogin.com/"},"@id":e.id,"@type":"https://ns.adobe.com/adobecloudplatform/ims/user"},"repo:modifier":"grant","repo:privileges":[r],"repo:relations":[LINK_NS.acPolicy,LINK_NS.primary,LINK_NS.metadata.app,LINK_NS.metadata.embedded,LINK_NS.metadata.repo,LINK_NS.rendition],"repo:inheritance":"deep"}})),l={"repo:acl":s},e.next=6,actions.doPut(a,PlatformConnector._ims,{op:o},_objectSpread({"Content-Type":"application/vnd.adobecloud.accesscontrolpolicy+json"},PlatformConnector._customHeader),l);case 6:return i=e.sent,e.abrupt("return",i.json());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),checkACL:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n){var r,o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=utils.findLink(t,LINK_NS.acCheck),e.next=3,actions.doGet(r,PlatformConnector._ims,n,PlatformConnector._customHeader);case 3:return o=e.sent,e.abrupt("return",o.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getACLEffective:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=utils.findLink(t,LINK_NS.acEffective),e.next=3,actions.doGet(n,PlatformConnector._ims,{},PlatformConnector._customHeader);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ops=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){var a,s,l,i,c,u,p,d=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=d.length>4&&void 0!==d[4]?d[4]:void 0,s=utils.findLink(n,PlatformConnector._linkNS.ops),l=[],i=_createForOfIteratorHelper(r);try{for(i.s();!(c=i.n()).done;)u=c.value,l.push(_objectSpread({op:t,target:_objectSpread({"repo:repositoryId":o,"repo:assetId":u["repo:assetId"]},PlatformConnector._formatIfMatch(u))},a))}catch(e){i.e(e)}finally{i.f()}return p=1===l.length?l[0]:l,e.abrupt("return",actions.doPostAsync(s,PlatformConnector._ims,{repositoryId:o},_objectSpread({"Content-Type":"application/vnd.adobe.asset-operation+json"},PlatformConnector._customHeader),p));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),operation=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r,o){var a,s,l,i,c,u,p,d,f,b,m,R,C,g=arguments;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=g.length>4&&void 0!==g[4]?g[4]:void 0,s=utils.findLink(n,PlatformConnector._linkNS.ops),l=[],i=r.sources?r.sources:r.targets,c=_createForOfIteratorHelper(i);try{for(c.s();!(u=c.n()).done;)b=u.value,m=t===Operation.move||t===Operation.copy?utils.extractFileName(b[PlatformConnectorConstants.REPO_PATH]):"",R=t===Operation.move||t===Operation.copy?{source:_objectSpread((p={},_defineProperty(p,REPO_REPOSITORY_ID,o),_defineProperty(p,PlatformConnectorConstants.REPO_PATH,b[PlatformConnectorConstants.REPO_PATH]),p),PlatformConnector._formatIfMatch(b)),target:(d={},_defineProperty(d,REPO_REPOSITORY_ID,o),_defineProperty(d,PlatformConnectorConstants.REPO_PATH,utils.formatDirectoryPath(r.target[PlatformConnectorConstants.REPO_PATH])+m),d)}:{target:_objectSpread((f={},_defineProperty(f,REPO_REPOSITORY_ID,o),_defineProperty(f,REPO_ASSET_ID,b[REPO_ASSET_ID]),f),PlatformConnector._formatIfMatch(b))},l.push(_objectSpread(_objectSpread({op:t},R),a))}catch(e){c.e(e)}finally{c.f()}return C=1===l.length?l[0]:l,e.abrupt("return",actions.doPost(s,PlatformConnector._ims,{repositoryId:o},_objectSpread({"Content-Type":"application/vnd.adobe.asset-operation+json"},PlatformConnector._customHeader),C));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateCollection=function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var o,a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=utils.findLink(n,PlatformConnector._linkNS.collections,PlatformConnector._baseURL),a=r.map((function(e){return{op:t,path:"/children",value:_defineProperty({},PlatformConnectorConstants.REPO_PATH,e)}})),e.abrupt("return",actions.doPatch(o,PlatformConnector._ims,void 0,_objectSpread({"Content-Type":PlatformConnectorConstants.COLLECTION_TYPE},PlatformConnector._customHeader),a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),REPOSITORY_ID_KEY="repo:repositoryId",VALID_REPO_DATE=new Date("2021-04-01T00:00:00.000Z"),REPOSITORY_FILTERS=function(e){return[function(e,t){return new Date(t["repo:modifyDate"]||t["repo:createDate"])>VALID_REPO_DATE},function(e,t,n){var r;return!n||(null===(r=e["repo:owner"])||void 0===r?void 0:r.id)===n},e?function(e){return"author"===e["aem:tier"]}:function(){return!0}]},getRepoLink=function(e){var t;return null===(t=e._embedded)||void 0===t?void 0:t[LINK_NS.repository]},getRepoMetadataLink=function(e){var t;return null===(t=e._embedded)||void 0===t?void 0:t["http://ns.adobe.com/adobecloud/rel/metadata/repository"]},getRepoId=function(e){var t;return null===(t=getRepoLink(e))||void 0===t?void 0:t[REPOSITORY_ID_KEY]},getRepoList=function(e,t){return(null!=e&&e.children?e.children:[]).filter((function(e){return REPOSITORY_FILTERS(!0).every((function(n){return Boolean(getRepoLink(e))&&Boolean(getRepoMetadataLink(e))&&n(getRepoLink(e),getRepoMetadataLink(e),t)}))}))},getDefaultSelectedRepo=function(e,t,n){var r=getRepoList(e,t);if(n){var o=r.filter((function(e){var t;return(null===(t=getRepoLink(e))||void 0===t?void 0:t[REPOSITORY_ID_KEY])===n}));if(o.length>0)return o[0]&&getRepoId(o[0])}var a=r.filter((function(e){var t=getRepoLink(e);return t&&"prod"===t["repo:environment"]&&!t["aem:sandbox"]}));return a.length>0?a[0]&&getRepoId(a[0]):r[0]&&getRepoId(r[0])},getAllRepoList=function(e,t){return(null!=e&&e.children?e.children:[]).filter((function(e){return REPOSITORY_FILTERS(!1).every((function(n){return Boolean(getRepoLink(e))&&Boolean(getRepoMetadataLink(e))&&n(getRepoLink(e),getRepoMetadataLink(e),t)}))}))},en_us={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"Other","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"Text","ContentResource.powerpoint.label":"MS Powerpoint","ContentResource.powerpoint_2007.label":"MS Powerpoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"Text","ContentResource.spreadsheet.label":"Spreadsheet","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"Audio","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"Collection","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"Folder","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"ICON","ContentResourceUtils.image.label":"Image","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"Library","ContentResourceUtils.library_element.label":"Library Element","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"MP4 Audio","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"MPEG Audio","ContentResourceUtils.photoshop.label":"PhotoShop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"Video","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},ko_kr={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"기타","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"텍스트","ContentResource.powerpoint.label":"MS PowerPoint","ContentResource.powerpoint_2007.label":"MS PowerPoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"텍스트","ContentResource.spreadsheet.label":"스프레드시트","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"오디오","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"컬렉션","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"폴더","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"아이콘","ContentResourceUtils.image.label":"이미지","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"라이브러리","ContentResourceUtils.library_element.label":"라이브러리 요소","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"MP4 오디오","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"MPEG 오디오","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"비디오","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},zh_tw={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"其他","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"文字","ContentResource.powerpoint.label":"MS Powerpoint","ContentResource.powerpoint_2007.label":"MS Powerpoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"文字","ContentResource.spreadsheet.label":"試算表","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"音訊","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"集合","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"資料夾","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"圖示","ContentResourceUtils.image.label":"影像","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"資料庫","ContentResourceUtils.library_element.label":"資料庫元素","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"MP4 音訊","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"MPEG 音訊","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"視訊","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},zh_cn={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"其他","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"文本","ContentResource.powerpoint.label":"MS Powerpoint","ContentResource.powerpoint_2007.label":"MS Powerpoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"文本","ContentResource.spreadsheet.label":"电子表格","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"音频","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"收藏集","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"文件夹","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"图表","ContentResourceUtils.image.label":"图像","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"库","ContentResourceUtils.library_element.label":"库元素","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"MP4 音频","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"MPEG 音频","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"视频","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},pt_br={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"Outro","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"Texto","ContentResource.powerpoint.label":"MS PowerPoint","ContentResource.powerpoint_2007.label":"MS PowerPoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"Texto","ContentResource.spreadsheet.label":"Planilha","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"Áudio","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"Coleção","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"Pasta","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"ÍCONE","ContentResourceUtils.image.label":"Imagem","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"Biblioteca","ContentResourceUtils.library_element.label":"Elemento da biblioteca","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"Áudio MP4","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"Áudio MPEG","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"Vídeo","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},it_it={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"Altro","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"Testo","ContentResource.powerpoint.label":"MS PowerPoint","ContentResource.powerpoint_2007.label":"MS PowerPoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"Testo","ContentResource.spreadsheet.label":"Foglio di calcolo","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"Audio","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"Raccolta","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"Cartella","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"ICONA","ContentResourceUtils.image.label":"Immagine","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"Libreria","ContentResourceUtils.library_element.label":"Elemento libreria","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"Audio MP4","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"Audio MPEG","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"Video","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"File raw Nikon","ContentResourceUtils.zip.label":"ZIP"},es_es={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"Otro","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"Texto","ContentResource.powerpoint.label":"MS PowerPoint","ContentResource.powerpoint_2007.label":"MS PowerPoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"Texto","ContentResource.spreadsheet.label":"Hoja de cálculo","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"Audio","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"Colección","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"Carpeta","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"ICONO","ContentResourceUtils.image.label":"Imagen","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"Biblioteca","ContentResourceUtils.library_element.label":"Elemento de la biblioteca","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"Audio MP4","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"Audio MPEG","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"Vídeo","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},ja_jp={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"その他","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"テキスト","ContentResource.powerpoint.label":"MS PowerPoint","ContentResource.powerpoint_2007.label":"MS PowerPoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"テキスト","ContentResource.spreadsheet.label":"スプレッドシート","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"オーディオ","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"コレクション","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"フォルダー","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"ICON","ContentResourceUtils.image.label":"画像","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"ライブラリ","ContentResourceUtils.library_element.label":"ライブラリ要素","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"MP4 オーディオ","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"MPEG オーディオ","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"ビデオ","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},de_de={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"Sonstige","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"Text","ContentResource.powerpoint.label":"MS PowerPoint","ContentResource.powerpoint_2007.label":"MS PowerPoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"Text","ContentResource.spreadsheet.label":"Tabelle","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"Audio","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"Sammlung","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"Ordner","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"SYMBOL","ContentResourceUtils.image.label":"Bild","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"Bibliothek","ContentResourceUtils.library_element.label":"Bibliothekselement","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"MP4-Audio","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"MPEG-Audio","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"Video","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"PLZ"},fr_fr={"ContentResource.csv.label":"CSV","ContentResource.excel.label":"MS Excel","ContentResource.html.label":"HTML","ContentResource.illustrator.label":"Illustrator","ContentResource.indesign.label":"InDesign","ContentResource.msword.label":"MS Word","ContentResource.opendocument_document.label":"OpenDocument","ContentResource.opendocument_presentation.label":"OpenDocument","ContentResource.other.label":"Autre","ContentResource.pdf.label":"PDF","ContentResource.plain_text.label":"Texte","ContentResource.powerpoint.label":"MS PowerPoint","ContentResource.powerpoint_2007.label":"MS PowerPoint","ContentResource.quark.label":"Quark","ContentResource.rtf.label":"Texte","ContentResource.spreadsheet.label":"Feuille de calcul","ContentResource.word.label":"MS Word","ContentResource.x_excel.label":"MS Excel","ContentResourceUtils.aac.label":"AAC","ContentResourceUtils.air.label":"AIR","ContentResourceUtils.audio.label":"Audio","ContentResourceUtils.bmp.label":"BMP","ContentResourceUtils.collection.label":"Collection","ContentResourceUtils.dng.label":"DNG","ContentResourceUtils.folder.label":"Dossier","ContentResourceUtils.gif.label":"GIF","ContentResourceUtils.gimp.label":"GIMP","ContentResourceUtils.icon.label":"ICÔNE","ContentResourceUtils.image.label":"Image","ContentResourceUtils.jar.label":"JAR","ContentResourceUtils.jpeg.label":"JPEG","ContentResourceUtils.library.label":"Bibliothèque","ContentResourceUtils.library_element.label":"Élément de bibliothèque","ContentResourceUtils.midi.label":"MIDI","ContentResourceUtils.mp3.label":"MP3","ContentResourceUtils.mp4.label":"MP4","ContentResourceUtils.mp4_audio.label":"MP4 Audio","ContentResourceUtils.mpeg.label":"MPEG","ContentResourceUtils.mpeg_audio.label":"MPEG Audio","ContentResourceUtils.photoshop.label":"Photoshop","ContentResourceUtils.pjpeg.label":"PJPEG","ContentResourceUtils.png.label":"PNG","ContentResourceUtils.quicktime.label":"QUICKTIME","ContentResourceUtils.rar.label":"RAR","ContentResourceUtils.svg.label":"SVG","ContentResourceUtils.tar.label":"TAR","ContentResourceUtils.tar_gz.label":"TAR","ContentResourceUtils.tiff.label":"TIFF","ContentResourceUtils.video.label":"Vidéo","ContentResourceUtils.wav.label":"WAV","ContentResourceUtils.wma.label":"WMA","ContentResourceUtils.x_bmp.label":"BMP","ContentResourceUtils.x_dcraw.label":"Camera Raw","ContentResourceUtils.x_pbm.label":"PBM","ContentResourceUtils.x_ppm.label":"PPM","ContentResourceUtils.x_raw_nikon.label":"Nikon Raw","ContentResourceUtils.zip.label":"ZIP"},localeData=Object.freeze({__proto__:null,de_DE:de_de,en_US:en_us,es_ES:es_es,fr_FR:fr_fr,it_IT:it_it,ja_JP:ja_jp,ko_KR:ko_kr,pt_BR:pt_br,zh_CN:zh_cn,zh_TW:zh_tw}),cache=createIntlCache(),supportedLocales=["en-US","de-DE","es-ES","it-IT","ja-JP","ko-Kr","pt-BR","zh-CN","zh-TW"],_mimeTypeToLabelMap={"*/*":{id:"ContentResource.other.label",defaultMessage:"Other",description:"Generic label for a file whose extension we are not familiar with."},"application/pdf":{id:"ContentResource.pdf.label",defaultMessage:"PDF",description:"Label describing the type of file being shown. This label is for PDF files."},"application/postscript":{id:"ContentResource.illustrator.label",defaultMessage:"Illustrator",description:"Label describing the type of file being shown. This label is for Illustrator files."},"application/msword":{id:"ContentResource.msword.label",defaultMessage:"MS Word",description:"Label describing the type of file being shown. This label is for MS Word files."},"application/vnd.oasis.opendocument.graphics":{id:"ContentResource.opendocument_document.label",defaultMessage:"OpenDocument",description:"Label describing the type of file being shown. This label is for OpenDocument doc files."},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{id:"ContentResource.word.label",defaultMessage:"MS Word",description:"Label describing the type of file being shown. This label is for MS Word file extensions."},"text/csv":{id:"ContentResource.csv.label",defaultMessage:"CSV",description:"Label describing the type of file being shown. This label is for CSV files."},"text/html":{id:"ContentResource.html.label",defaultMessage:"HTML",description:"Label describing the type of file being shown. This label is for HTML files."},"text/rtf":{id:"ContentResource.rtf.label",defaultMessage:"Text",description:"Label describing the type of file being shown. This label is for RTF files."},"text/plain":{id:"ContentResource.plain_text.label",defaultMessage:"Text",description:"Label describing the type of file being shown. This label is for plain text files."},"application/vnd.oasis.opendocument.spreadsheet":{id:"ContentResource.spreadsheet.label",defaultMessage:"Spreadsheet",description:"Label describing the type of file being shown. This label is for spreadsheet files."},"application/vnd.ms-excel":{id:"ContentResource.excel.label",defaultMessage:"MS Excel",description:"Label describing the type of file being shown. This label is for .xlsx file extensions."},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{id:"ContentResource.x_excel.label",defaultMessage:"MS Excel",description:"Label describing the type of file being shown. This label is for .xlsx file extensions."},"application/vnd.ms-powerpoint":{id:"ContentResource.powerpoint.label",defaultMessage:"MS Powerpoint",description:"Label describing the type of file being shown. This label is for powerpoint files."},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{id:"ContentResource.powerpoint_2007.label",defaultMessage:"MS Powerpoint",description:"Label describing the type of file being shown. This label is for powerpoint 2007 files."},"application/vnd.oasis.opendocument.presentation":{id:"ContentResource.opendocument_presentation.label",defaultMessage:"OpenDocument",description:"Label describing the type of file being shown. This label is for OpenDocument presentation files."},"application/x-indesign":{id:"ContentResource.indesign.label",defaultMessage:"InDesign",description:"Label describing the type of file being shown. This label is for InDesign files."},"application/vnd.quark.quarkxpress":{id:"ContentResource.quark.label",defaultMessage:"Quark",description:"Label describing the type of file being shown. This label is for quark files."},"audio/*":{id:"ContentResourceUtils.audio.label",defaultMessage:"Audio",description:"Label describing the type of file being shown. This label is for generic audio files."},"audio/aac":{id:"ContentResourceUtils.aac.label",defaultMessage:"AAC",description:"Label describing the type of file being shown. This label is for generic AAC files."},"audio/midi":{id:"ContentResourceUtils.midi.label",defaultMessage:"MIDI",description:"Label describing the type of file being shown. This label is for MIDI files."},"audio/mp3":{id:"ContentResourceUtils.mp3.label",defaultMessage:"MP3",description:"Label describing the type of file being shown. This label is for MP3 files."},"audio/mp4":{id:"ContentResourceUtils.mp4_audio.label",defaultMessage:"MP4 Audio",description:"Label describing the type of file being shown. This label is for MP4 Audio files."},"audio/mpeg":{id:"ContentResourceUtils.mpeg_audio.label",defaultMessage:"MPEG Audio",description:"Label describing the type of file being shown. This label is for MPEG Audio files."},"audio/wav":{id:"ContentResourceUtils.wav.label",defaultMessage:"WAV",description:"Label describing the type of file being shown. This label is for WAV files."},"audio/wma":{id:"ContentResourceUtils.wma.label",defaultMessage:"WMA",description:"Label describing the type of file being shown. This label is for WMA files."},"image/*":{id:"ContentResourceUtils.image.label",defaultMessage:"Image",description:"Label describing the type of file being shown. This label is for generic images."},"image/bmp":{id:"ContentResourceUtils.bmp.label",defaultMessage:"BMP",description:"Label describing the type of file being shown. This label is for .bmp images."},"image/gif":{id:"ContentResourceUtils.gif.label",defaultMessage:"GIF",description:"Label describing the type of file being shown. This label is for .gif images."},"image/jpeg":{id:"ContentResourceUtils.jpeg.label",defaultMessage:"JPEG",description:"Label describing the type of file being shown. This label is for .jpeg images."},"image/pjpeg":{id:"ContentResourceUtils.pjpeg.label",defaultMessage:"PJPEG",description:"Label describing the type of file being shown. This label is for .pjpeg images."},"image/png":{id:"ContentResourceUtils.png.label",defaultMessage:"PNG",description:"Label describing the type of file being shown. This label is for .png images."},"image/svg+xml":{id:"ContentResourceUtils.svg.label",defaultMessage:"SVG",description:"Label describing the type of file being shown. This label is for svg images."},"image/tiff":{id:"ContentResourceUtils.tiff.label",defaultMessage:"TIFF",description:"Label describing the type of file being shown. This label is for .tiff images."},"image/vnd.adobe.photoshop":{id:"ContentResourceUtils.photoshop.label",defaultMessage:"PhotoShop",description:"Label describing the type of file being shown. This label is for Photoshop images."},"image/vnd.microsoft.icon":{id:"ContentResourceUtils.icon.label",defaultMessage:"ICON",description:"Label describing the type of file being shown. This label is for icon images."},"image/x-adobe-dng":{id:"ContentResourceUtils.dng.label",defaultMessage:"DNG",description:"Label describing the type of file being shown. This label is for .dng images."},"image/x-bmp":{id:"ContentResourceUtils.x_bmp.label",defaultMessage:"BMP",description:"Label describing the type of file being shown. This label is for .x-bmp images."},"image/x-dcraw":{id:"ContentResourceUtils.x_dcraw.label",defaultMessage:"Camera Raw",description:"Label describing the type of file being shown. This label is for Camera raw images."},"image/x-pbm":{id:"ContentResourceUtils.x_pbm.label",defaultMessage:"PBM",description:"Label describing the type of file being shown. This label is for .x-pbm images."},"image/x-ppm":{id:"ContentResourceUtils.x_ppm.label",defaultMessage:"PPM",description:"Label describing the type of file being shown. This label is for .x-ppm images."},"image/x-raw-nikon":{id:"ContentResourceUtils.x_raw_nikon.label",defaultMessage:"Nikon Raw",description:"Label describing the type of file being shown. This label is for Nikon raw images."},"image/x-xcf":{id:"ContentResourceUtils.gimp.label",defaultMessage:"GIMP",description:"Label describing the type of file being shown. This label is for GIMP images."},"video/*":{id:"ContentResourceUtils.video.label",defaultMessage:"Video",description:"Label describing the type of file being shown. This label is for generic videos."},"video/mp4":{id:"ContentResourceUtils.mp4.label",defaultMessage:"MP4",description:"Label describing the type of file being shown. This label is for .mp4 videos."},"video/mpeg":{id:"ContentResourceUtils.mpeg.label",defaultMessage:"MPEG",description:"Label describing the type of file being shown. This label is for MPEG videos."},"video/quicktime":{id:"ContentResourceUtils.quicktime.label",defaultMessage:"QUICKTIME",description:"Label describing the type of file being shown. This label is for .mov videos."},"application/java-archive":{id:"ContentResourceUtils.jar.label",defaultMessage:"JAR",description:"Label describing the type of file being shown. This label is for JAR files."},"application/x-rar-compressed":{id:"ContentResourceUtils.rar.label",defaultMessage:"RAR",description:"Label describing the type of file being shown. This label is for RAR files."},"application/x-tar":{id:"ContentResourceUtils.tar.label",defaultMessage:"TAR",description:"Label describing the type of file being shown. This label is for TAR files."},"application/x-tar-gz":{id:"ContentResourceUtils.tar_gz.label",defaultMessage:"TAR",description:"Label describing the type of file being shown. This label is for TAR files."},"application/zip":{id:"ContentResourceUtils.zip.label",defaultMessage:"ZIP",description:"Label describing the type of file being shown. This label is for ZIP files."},"application/vnd.adobe.air-application-installer-package+zip":{id:"ContentResourceUtils.air.label",defaultMessage:"AIR",description:"Label describing the type of file being shown. This label is for Adobe AIR files."},"application/vnd.adobe.element+dcx":{id:"ContentResourceUtils.library_element.label",defaultMessage:"Library Element",description:"Label describing the type of file being shown. This label is for library elements."},"application/vnd.adobe.library+dcx":{id:"ContentResourceUtils.library.label",defaultMessage:"Library",description:"Label describing the type of file being shown. This label is for libraries."},"application/vnd.adobeaemcloud.collection+json":{id:"ContentResourceUtils.collection.label",defaultMessage:"Collection",description:"Label describing the type of file being shown. This label is for collections."},"application/vnd.adobecloud.directory+json":{id:"ContentResourceUtils.folder.label",defaultMessage:"Folder",description:"Label describing the type of file being shown. This label is for folders/directories."}},getLabelByMimeType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(supportedLocales.find((function(e){return e===t}))||(console.warn('Locale "'.concat(t,'" is not supported or format is not xx-XX. Using locale en-US.')),t="en-US"),intl&&localeCache===t||(intl=createIntl({locale:t,messages:localeData[t.replace("-","_")]},cache),localeCache=t),!_mimeTypeToLabelMap[e]){var n=e.split("/"),r=_slicedToArray(n,1)[0],o=_mimeTypeToLabelMap["*/*"],a=_mimeTypeToLabelMap["".concat(r,"/*")];return a?intl.formatMessage(a):intl.formatMessage(o)}return intl.formatMessage(_mimeTypeToLabelMap[e])};export{ConsoleLogger,DISCOVERY,LINK_NS,LogLevel,PlatformConnector,PlatformConnectorConstants,blockTransfers,getAllRepoList,getDefaultSelectedRepo,getLabelByMimeType,getMimeTypeFromExtension,getRepoList};